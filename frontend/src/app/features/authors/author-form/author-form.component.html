<div class="form-container fade-in">
    <div class="page-header">
        <h1 class="gradient-text author-gradient">
            <mat-icon>{{ isEditMode ? 'edit' : 'person_add' }}</mat-icon>
            {{ isEditMode ? 'Yazar Düzenle' : 'Yeni Yazar Ekle' }}
        </h1>
    </div>

    <mat-card>
        <form [formGroup]="authorForm" (ngSubmit)="onSubmit()">
            <div class="form-grid">

                <mat-form-field appearance="outline">
                    <mat-label>Ad</mat-label>
                    <input matInput formControlName="auFname" placeholder="Yazar adı">
                    <mat-error *ngIf="authorForm.get('auFname')?.hasError('required')">Ad zorunludur</mat-error>
                    <mat-error *ngIf="authorForm.get('auFname')?.hasError('maxlength')">En fazla 20 karakter</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Soyad</mat-label>
                    <input matInput formControlName="auLname" placeholder="Yazar soyadı">
                    <mat-error *ngIf="authorForm.get('auLname')?.hasError('required')">Soyad zorunludur</mat-error>
                    <mat-error *ngIf="authorForm.get('auLname')?.hasError('maxlength')">En fazla 40 karakter</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Telefon</mat-label>
                    <input matInput formControlName="phone" placeholder="Ör: 555-1234567">
                    <mat-error *ngIf="authorForm.get('phone')?.hasError('required')">Telefon zorunludur</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Adres</mat-label>
                    <input matInput formControlName="address" placeholder="Adres">
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Şehir</mat-label>
                    <input matInput formControlName="city" placeholder="Şehir">
                </mat-form-field>
            </div>

            <div class="checkbox-field">
                <mat-checkbox formControlName="contract">
                    <span class="checkbox-label">Sözleşme yapıldı</span>
                </mat-checkbox>
            </div>

            <div class="form-actions">
                <button mat-button type="button" (click)="cancel()">
                    <mat-icon>cancel</mat-icon>
                    İptal
                </button>
                <button mat-raised-button color="primary" type="submit" [disabled]="authorForm.invalid || loading">
                    <mat-icon>{{ isEditMode ? 'save' : 'add' }}</mat-icon>
                    {{ isEditMode ? 'Güncelle' : 'Ekle' }}
                </button>
            </div>
        </form>
    </mat-card>
</div>